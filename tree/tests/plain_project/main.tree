import "nested/impls.tree"
import "nested/impls.tree" {
    grasp => grasp_ball,
}

root place_ball_to_target fallback {
    place_to(
        obj = {"x":1,"y":2,"z":3},
        operation = place(where),
    )
    retry(5) ask_for_help()
}

sequence place_to(what:object, operation:tree){
    fallback {
        is_approachable(what)
        approach(what)
    }
    fallback {
         is_graspable(what)
         grasp_ball(what)
    }
    sequence {
         savepoint()
         operation(..)
    }
}

sequence place(where:array){
    is_valid_place(where)
    savepoint()
    place_to(where)
    savepoint()
}



